(this["webpackJsonprecycle-polytech"]=this["webpackJsonprecycle-polytech"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/102.f3657ab5.png"},,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/0.3ddaaa90.png"},function(e,t,a){e.exports=a.p+"static/media/1.f4bac229.png"},function(e,t,a){e.exports=a.p+"static/media/2.37729624.png"},function(e,t,a){e.exports=a.p+"static/media/3.44929985.png"},function(e,t,a){e.exports=a.p+"static/media/4.59a96640.png"},function(e,t,a){e.exports=a.p+"static/media/5.b107ac82.png"},function(e,t,a){e.exports=a.p+"static/media/6.146d3c90.png"},function(e,t,a){e.exports=a.p+"static/media/7.9db1f5d4.png"},function(e,t,a){e.exports=a.p+"static/media/8.f7936af3.png"},function(e,t,a){e.exports=a.p+"static/media/9.8f17409e.png"},function(e,t,a){e.exports=a.p+"static/media/10.931622fb.png"},function(e,t,a){e.exports=a.p+"static/media/90.0371a98d.png"},function(e,t,a){e.exports=a.p+"static/media/91.2cdfd52a.png"},function(e,t,a){e.exports=a.p+"static/media/92.9f8d92cd.png"},function(e,t,a){e.exports=a.p+"static/media/93.6eeaafc1.png"},function(e,t,a){e.exports=a.p+"static/media/94.cff16da1.png"},function(e,t,a){e.exports=a.p+"static/media/95.dedee02b.png"},function(e,t,a){e.exports=a.p+"static/media/96.06170962.png"},function(e,t,a){e.exports=a.p+"static/media/97.8bb62fa8.png"},function(e,t,a){e.exports=a.p+"static/media/98.995be50e.png"},function(e,t,a){e.exports=a.p+"static/media/99.68920716.png"},function(e,t,a){e.exports=a.p+"static/media/100.1ad104a5.png"},function(e,t,a){e.exports=a.p+"static/media/101.2c5428a4.png"},function(e,t,a){e.exports=a.p+"static/media/90.0371a98d.png"},function(e,t,a){e.exports=a.p+"static/media/91.2cdfd52a.png"},function(e,t,a){e.exports=a.p+"static/media/92.9f8d92cd.png"},function(e,t,a){e.exports=a.p+"static/media/93.6eeaafc1.png"},function(e,t,a){e.exports=a.p+"static/media/94.cff16da1.png"},function(e,t,a){e.exports=a.p+"static/media/99.68920716.png"},,,function(e,t,a){e.exports=a(79)},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),i=a(53),s=a(3),l=a(5),p=a(4),u=a(1),m=a.n(u),d=a(7),f=a(10),g=a(6),b=a(23),h=a.n(b),v=function(e,t,a){var n=0,r=-1,c=e.toLowerCase().indexOf(t.toLowerCase());if(-1!==c&&(n=c+t.length),a){var o=e.toLowerCase().indexOf(a.toLowerCase());-1!==o&&(r=o)}return 0===n?"":-1===r?e.slice(n):e.slice(n,r)},_=[{tag:"\u0448\u0438\u0440\u043e\u0442\u0430",propName:"posX",required:!0},{tag:"\u0434\u043e\u043b\u0433\u043e\u0442\u0430",propName:"posY",required:!0},{tag:"\u0430\u0434\u0440\u0435\u0441",propName:"address"},{tag:"\u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b",propName:"time"},{tag:"\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",propName:"comment"},{tag:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",propName:"img"},{tag:"icon",propName:"icon"}],x=function e(t){var a=this;Object(s.a)(this,e),this.get=function(){return a.data},this.props=t,this.data=new Promise(function(){var e=Object(g.a)(m.a.mark((function e(a,n){var r,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(t.DBlink);case 2:r=e.sent.data,(c=r.lists.filter((function(e){return"Database"===e.name}))).length<1&&n("no Database board"),o=r.cards.filter((function(e){return e.idList===c[0].id})).map((function(e){var t=!1,a=_.map((function(a){var n=v(e.desc,"<".concat(a.tag,">"),"</".concat(a.tag,">"));return a.required&&""===n&&(t=!0),Object(f.a)({},a.propName,n)})).reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),t)}));return Object(d.a)(Object(d.a)({},a),{},{pos:[a.posX,a.posY],heading:e.name,damadged:t})})).filter((function(e){return!e.damadged})),a(o);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},E=r.a.createContext("new store()"),N=a(11),w=a(24),j=a.n(w),k=a(25),y=a.n(k),O=a(26),C=a.n(O),F=a(27),D=a.n(F),P=a(28),M=a.n(P),S=a(29),L=a.n(S),R=a(30),B=a.n(R),I=a(31),q=a.n(I),z=a(32),T=a.n(z),W=a(33),A=a.n(W),J=a(34),X=a.n(J),Y=a(35),G=a.n(Y),H=a(36),K=a.n(H),U=a(37),$=a.n(U),Q=a(38),V=a.n(Q),Z=a(39),ee=a.n(Z),te=a(40),ae=a.n(te),ne=a(41),re=a.n(ne),ce=a(42),oe=a.n(ce),ie=a(43),se=a.n(ie),le=a(44),pe=a.n(le),ue=a(45),me=a.n(ue),de=a(46),fe=a.n(de),ge=a(12),be=a.n(ge),he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:228,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:370;return{iconImageSize:[Math.round(t/10*e),Math.round(a/10*e)],iconImageOffset:[-Math.round(t/20*e),-Math.round(.95*a/10*e)]}},ve=function(e){switch(parseInt(e)){case 0:return j.a;case 1:return y.a;case 2:return C.a;case 3:return D.a;case 4:return M.a;case 5:return L.a;case 6:return B.a;case 7:return q.a;case 8:return T.a;case 9:return A.a;case 10:return X.a;case 90:return G.a;case 91:return K.a;case 92:return $.a;case 93:return V.a;case 94:return ee.a;case 95:return ae.a;case 96:return re.a;case 97:return oe.a;case 98:return se.a;case 99:return pe.a;case 100:return me.a;case 101:return fe.a;case 102:default:return be.a}},_e=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).addPoint=function(){var e=Object(g.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(g.a)(m.a.mark((function e(a,r){var c,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.pos){e.next=4;break}c=t.pos,e.next=9;break;case 4:return t.address||r("no pos, no address"),e.next=7,window.ymaps.geocode("\u0420\u043e\u0441\u0441\u0438\u044f, \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433, "+t.address);case 7:i=e.sent,c=i.geoObjects.get(0).geometry._coordinates;case 9:o=(o=(o=t.img.replace(/^\[.*\]\(/gim,"")).replace(/album.*/gim,"album")).replace(/\[/gim,""),n.map.geoObjects.add(new window.ymaps.Placemark(c,{balloonContent:'\n            <div class="yandex-baloon">\n              <h2 style="margin-bottom: 10px">'.concat(t.heading,"</h2>\n              <small><i>").concat(t.addressNice||t.address,'</i></small><br>\n              <h3 style="margin-bottom: 10px">\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b: ').concat(t.time,"</h3><br>\n              ").concat(""!==t.img?"<img style='width: 100%' src=".concat(o,"></img>"):"","<br>\n              ").concat(t.comment,"\n              \n            </div>\n            "),iconCaption:t.heading},Object(d.a)({iconLayout:"default#image",iconImageHref:ve(t.icon)},he(1.7)))),a(c);case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.replacePoints=function(){var e=Object(g.a)(m.a.mark((function e(t){var a,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(a=t.points)||void 0===a?void 0:a.length)>0){e.next=2;break}return e.abrupt("return");case 2:n.map.geoObjects.removeAll(),e.t0=m.a.keys(t.points);case 4:if((e.t1=e.t0()).done){e.next=12;break}return r=e.t1.value,c=t.points[r],e.next=9,n.addPoint(c);case 9:e.sent,e.next=4;break;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.componentDidMount=function(){return window.ymaps.ready((function(){n.map=new window.ymaps.Map("map",{center:[59.999707,30.366714],zoom:13,controls:["searchControl","typeSelector","zoomControl","geolocationControl","fullscreenControl"]}),n.setState({ready:!0})}))},n.render=function(){return r.a.createElement("div",{id:"map",ref:n.mapRef})},n.state={ready:!1,replacePoints:n.replacePoints},n.mapRef=new r.a.createRef,n}return Object(N.a)(a,null,[{key:"getDerivedStateFromProps",value:function(e,t){return t.ready?(t.replacePoints(e),t):t}}]),a}(n.Component),xe=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){return n.initData()},n.initData=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,n.context.store.get();case 3:return e.t1=e.sent,e.t2={points:e.t1},e.abrupt("return",e.t0.setState.call(e.t0,e.t2));case 6:case"end":return e.stop()}}),e)}))),n.state={points:[]},n}return Object(N.a)(a,[{key:"render",value:function(){var e=this,t=this.state.points;return this.props.choosenFilters.length>0&&(t=this.state.points.filter((function(t){return e.props.choosenFilters.includes(parseInt(t.icon))}))),r.a.createElement("div",{className:"random-events",id:"random-events"},r.a.createElement("div",{className:"random-events__map-container"},r.a.createElement(_e,{points:t})))}}]),a}(n.Component);xe.contextType=E;var Ee=xe,Ne=a(54),we=function(e){return r.a.createElement("a",{className:e.className,href:e.to,target:e.newTab?"_blank":"",rel:"noopener noreferrer"},e.children)},je=function(e){return e.preventDefault()},ke=[{h2:"\u042d\u043a\u043e\u043b\u043e\u0433\u0438\u0447\u043d\u044b\u043c \u0431\u044b\u0442\u044c: \u0432 \u041f\u043e\u043b\u0438\u0442\u0435\u0445\u0435 \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u0440\u0430\u0437\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u0431\u043e\u0440 \u043e\u0442\u0445\u043e\u0434\u043e\u0432!",desc:r.a.createElement(r.a.Fragment,null,"\u0410\u043a\u0442\u0438\u0432\u0438\u0441\u0442\u044b \u044d\u043a\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f ",r.a.createElement(we,{to:"https://vk.com/regreen_polytech"},"ReGreen")," \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e \u0441 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e\u043c \u0421\u041f\u0431\u041f\u0423 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438 \u0438 \u0432\u043d\u0435\u0434\u0440\u0438\u043b\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0440\u0430\u0437\u0434\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430 \u043e\u0442\u0445\u043e\u0434\u043e\u0432 \u043d\u0430 \u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0438 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u0430.",r.a.createElement("p",null," \u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u044b \u0443\u0436\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0438\u0440\u0443\u044e\u0442! ")),bottom:r.a.createElement(r.a.Fragment,null,'\u0421\u0430\u0439\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d \u0438\u043d\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u043e\u0439 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432 \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u044b "\u041e\u0441\u043d\u043e\u0432\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438".')}],ye=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){return(e=n.aboutButtonRef.current).addEventListener("wheel",je,{passive:!1}),void e.addEventListener("touchmove",je,{passive:!1});var e},n.componentWillUnmount=function(){return(e=n.aboutButtonRef.current).removeEventListener("wheel",je,{passive:!1}),void e.removeEventListener("touchmove",je,{passive:!1});var e},n.render=function(){return r.a.createElement("div",{className:"project-description"},r.a.createElement("div",{ref:n.aboutButtonRef,className:"project-description__mobile-open",onClick:function(){return n.setState({showMobile:!0})}},"\u041e \u041f\u0440\u043e\u0435\u043a\u0442\u0435"),r.a.createElement("div",{className:"project-description__container "+(n.state.showMobile&&"project-description__container--open")},r.a.createElement("div",{className:"project-description__mobile-close",onClick:function(){return n.setState({showMobile:!1})}}),r.a.createElement("div",{className:"project-description__blocks"},ke.map((function(e){return r.a.createElement("div",{className:"project-description__blocks__item"},r.a.createElement("div",{className:"project-description__blocks__item__h2"},e.h2),r.a.createElement("div",{className:"project-description__blocks__item__desc"},e.desc),e.bottom&&r.a.createElement("div",{className:"project-description__blocks__item__bottom"},e.bottom))})))))},n.state={showMobile:!1},n.aboutButtonRef=r.a.createRef(),n}return a}(n.Component);ye.contextType=E;var Oe=ye,Ce=a(47),Fe=a.n(Ce),De=a(48),Pe=a.n(De),Me=a(49),Se=a.n(Me),Le=a(50),Re=a.n(Le),Be=a(51),Ie=a.n(Be),qe=a(52),ze=a.n(qe);var Te=function(e){var t=e.onFilterChange,a=function(e){var a=e.target.value;t(a)};return r.a.createElement("div",{className:"filter"},r.a.createElement("div",{className:"filter__container"},r.a.createElement("label",{className:"filter__checkbox"},r.a.createElement("input",{type:"checkbox",value:"plastic",onChange:a}),r.a.createElement("img",{className:"filter__img",src:Fe.a,alt:"1"}),r.a.createElement("span",{class:"filter__text"},"\u041f\u043b\u0430\u0441\u0442\u0438\u043a"))),r.a.createElement("div",{className:"filter__container"},r.a.createElement("label",{className:"filter__checkbox"},r.a.createElement("input",{type:"checkbox",value:"paper",onChange:a}),r.a.createElement("img",{className:"filter__img",src:Pe.a,alt:"2"}),r.a.createElement("span",{class:"filter__text"},"\u0411\u0443\u043c\u0430\u0433\u0430"))),r.a.createElement("div",{className:"filter__container"},r.a.createElement("label",{className:"filter__checkbox"},r.a.createElement("input",{type:"checkbox",value:"glass",onChange:a}),r.a.createElement("img",{className:"filter__img",src:Se.a,alt:"3"}),r.a.createElement("span",{class:"filter__text"},"\u0421\u0442\u0435\u043a\u043b\u043e"))),r.a.createElement("div",{className:"filter__container"},r.a.createElement("label",{className:"filter__checkbox"},r.a.createElement("input",{type:"checkbox",value:"rare",onChange:a}),r.a.createElement("img",{className:"filter__img",src:Re.a,alt:"4"}),r.a.createElement("span",{class:"filter__text"},"\u0420\u0435\u0434\u043a\u043e\u0441\u0442\u0438"))),r.a.createElement("div",{className:"filter__container"},r.a.createElement("label",{className:"filter__checkbox"},r.a.createElement("input",{type:"checkbox",value:"battery",onChange:a}),r.a.createElement("img",{className:"filter__img",src:Ie.a,alt:"5"}),r.a.createElement("span",{class:"filter__text"},"\u0411\u0430\u0442\u0430\u0440\u0435\u0439\u043a\u0438"))),r.a.createElement("div",{className:"filter__container"},r.a.createElement("label",{className:"filter__checkbox"},r.a.createElement("input",{type:"checkbox",value:"cap",onChange:a}),r.a.createElement("img",{className:"filter__img",src:ze.a,alt:"6"}),r.a.createElement("span",{class:"filter__text"},"\u041a\u0440\u044b\u0448\u0435\u0447\u043a\u0438"))))},We=function(e){var t=e.onFilterChange,a=Object(n.useState)("PD"),c=Object(Ne.a)(a,2),o=c[0],i=c[1];return r.a.createElement("div",{className:"side-panel"},r.a.createElement("div",{className:"side-panel__h"},"\u041a\u0430\u0440\u0442\u0430 \u0440\u0430\u0437\u0434\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430"),r.a.createElement("div",{className:"side-panel__buttons"},r.a.createElement("button",{className:"side-panel__button",onClick:function(){return i("PD")}},"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"),r.a.createElement("button",{className:"side-panel__button",onClick:function(){return i("Filter")}},"\u0424\u0438\u043b\u044c\u0442\u0440 \u0442\u043e\u0447\u0435\u043a")),r.a.createElement("div",{className:"side-panel__container"},"PD"===o?r.a.createElement(Oe,null):r.a.createElement(Te,{onFilterChange:t})))},Ae=(a(78),{plastic:[0,5,6,8,90,95,96,98],paper:[1,5,7,8,91,95,97,98],rare:[3,93],glass:[2,6,7,8,92,96,97,98],battery:[4],cap:[9]}),Je=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(e){var n,c;return Object(s.a)(this,a),(n=t.call(this,e)).onFilterChange=function(e){var t=Object(i.a)(n.state.choosenFilters),a=Ae[e],r=t.findIndex((function(e){return e===a}));-1!==r?t.splice(r,1):t.push(a),n.setState({choosenFilters:t})},n.render=function(){return r.a.createElement(E.Provider,{value:n.state},r.a.createElement("div",{className:"App"},r.a.createElement(We,{onFilterChange:n.onFilterChange}),r.a.createElement(Ee,{choosenFilters:n.state.choosenFilters.flat()})))},n.state=(c={state:n.state,setState:n.setState},{store:new x({stateRefs:c,DBlink:"https://trello.com/b/nKrfhtNh.json"})}),n.state.choosenFilters=[],n}return a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[55,1,2]]]);
//# sourceMappingURL=main.098f7007.chunk.js.map