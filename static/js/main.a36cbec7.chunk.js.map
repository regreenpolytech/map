{"version":3,"sources":["img/new/102.png","img/new/0.png","img/new/1.png","img/new/2.png","img/new/3.png","img/new/4.png","img/new/5.png","img/new/6.png","img/new/7.png","img/new/8.png","img/new/9.png","img/new/10.png","img/new/90.png","img/new/91.png","img/new/92.png","img/new/93.png","img/new/94.png","img/new/95.png","img/new/96.png","img/new/97.png","img/new/98.png","img/new/99.png","img/new/100.png","img/new/101.png","utils/sliceBetweenWords.js","utils/store/storeClass.js","utils/store/StoreContext.js","components/YandexMap.js","components/RecyclePoints.js","components/ExternalLink.js","utils/preventMobileScrolling.js","components/ProjectDescription.js","App.js","utils/store/index.js","serviceWorker.js","index.js"],"names":["module","exports","sliceBetweenWords","string","openTag","closeTag","start","end","index","toLowerCase","indexOf","length","slice","tagsMap","tag","propName","required","store","props","get","data","this","Promise","res","rej","a","axios","DBlink","listId","lists","filter","list","name","mappedPoints","cards","card","idList","id","map","damadged","parsedTags","parsedText","desc","reduce","b","pos","posX","posY","heading","point","StoreContext","React","createContext","sizeConverter","size","W","H","iconImageSize","Math","round","iconImageOffset","getIcon","icon","parseInt","IconPolyPlastic","IconPolyPaper","IconPolyGlass","IconPolyRare","IconPolyBattery","IconPolyPlasticPaper","IconPolyPlasticGlass","IconPolyPaperGlass","IconPolyPlasticPaperGlass","IconPolyCaps","IconPolyVolunteer","IconPlastic","IconPaper","IconGlass","IconRare","IconBattery","IconPlasticPaper","IconPlasticGlass","IconPaperGlass","IconPlasticPaperGlass","IconCaps","IconPolyCafe","IconPolyWater","IconPolyBike","addPoint","address","window","ymaps","geocode","result","geoObjects","geometry","_coordinates","bubbleImage","img","replace","add","Placemark","balloonContent","addressNice","time","comment","iconCaption","iconLayout","iconImageHref","replacePoints","points","removeAll","pointIndex","componentDidMount","ready","Map","center","zoom","controls","setState","render","ref","mapRef","state","createRef","Component","RecyclePoints","initData","context","className","contextType","href","to","target","newTab","rel","children","preventDefault","event","infoBlocks","h2","ExternalLink","bottom","ProjectDescription","element","aboutButtonRef","current","addEventListener","passive","componentWillUnmount","removeEventListener","onClick","showMobile","item","App","stateRefs","Provider","value","storeClass","Boolean","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.a36cbec7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/102.f3657ab5.png\";","module.exports = __webpack_public_path__ + \"static/media/0.3ddaaa90.png\";","module.exports = __webpack_public_path__ + \"static/media/1.f4bac229.png\";","module.exports = __webpack_public_path__ + \"static/media/2.37729624.png\";","module.exports = __webpack_public_path__ + \"static/media/3.44929985.png\";","module.exports = __webpack_public_path__ + \"static/media/4.59a96640.png\";","module.exports = __webpack_public_path__ + \"static/media/5.b107ac82.png\";","module.exports = __webpack_public_path__ + \"static/media/6.146d3c90.png\";","module.exports = __webpack_public_path__ + \"static/media/7.9db1f5d4.png\";","module.exports = __webpack_public_path__ + \"static/media/8.f7936af3.png\";","module.exports = __webpack_public_path__ + \"static/media/9.8f17409e.png\";","module.exports = __webpack_public_path__ + \"static/media/10.931622fb.png\";","module.exports = __webpack_public_path__ + \"static/media/90.0371a98d.png\";","module.exports = __webpack_public_path__ + \"static/media/91.2cdfd52a.png\";","module.exports = __webpack_public_path__ + \"static/media/92.9f8d92cd.png\";","module.exports = __webpack_public_path__ + \"static/media/93.6eeaafc1.png\";","module.exports = __webpack_public_path__ + \"static/media/94.cff16da1.png\";","module.exports = __webpack_public_path__ + \"static/media/95.dedee02b.png\";","module.exports = __webpack_public_path__ + \"static/media/96.06170962.png\";","module.exports = __webpack_public_path__ + \"static/media/97.8bb62fa8.png\";","module.exports = __webpack_public_path__ + \"static/media/98.995be50e.png\";","module.exports = __webpack_public_path__ + \"static/media/99.68920716.png\";","module.exports = __webpack_public_path__ + \"static/media/100.1ad104a5.png\";","module.exports = __webpack_public_path__ + \"static/media/101.2c5428a4.png\";","const sliceBetweenWords = (string, openTag, closeTag) => {\r\n  let start = 0, end = -1\r\n  \r\n  const index = string\r\n    .toLowerCase()\r\n    .indexOf(openTag.toLowerCase())\r\n\r\n  if (index !== -1)\r\n    start = index + openTag.length\r\n\r\n    \r\n  if (closeTag) {\r\n    const index = string\r\n      .toLowerCase()\r\n      .indexOf(closeTag.toLowerCase())\r\n\r\n    if (index !== -1)\r\n      end = index\r\n  }\r\n\r\n  if (start === 0)\r\n    return \"\"\r\n  if (end === -1)\r\n    return string.slice(start)\r\n\r\n\r\n  return string.slice(start, end)\r\n}\r\n\r\nexport default sliceBetweenWords","import axios from 'axios'\r\n\r\nimport sliceBetweenWords from '../sliceBetweenWords'\r\n\r\n\r\nconst tagsMap = [\r\n  {\r\n    tag: \"широта\",\r\n    propName: \"posX\",\r\n    required: true,\r\n  },\r\n  {\r\n    tag: \"долгота\",\r\n    propName: \"posY\",\r\n    required: true,\r\n  },\r\n  {\r\n    tag: \"адрес\",\r\n    propName: \"address\",\r\n    // required: true,\r\n  },\r\n  {\r\n    tag: \"время работы\",\r\n    propName: \"time\",\r\n  },\r\n  {\r\n    tag: \"комментарий\",\r\n    propName: \"comment\",\r\n  },\r\n  {\r\n    tag: \"картинка\",\r\n    propName: \"img\",\r\n  },\r\n  {\r\n    tag: \"icon\",\r\n    propName: \"icon\",\r\n  },\r\n]\r\n\r\n\r\nexport default class store {\r\n  constructor(props) {\r\n    this.props = props\r\n    this.data = new Promise(async (res, rej) => {\r\n      const data = (await axios.get(props.DBlink)).data\r\n      let listId = data.lists.filter(list => list.name === \"Database\")\r\n\r\n      if (listId.length < 1)\r\n        rej(\"no Database board\")\r\n\r\n      const mappedPoints = data.cards\r\n        .filter(card => card.idList === listId[0].id)\r\n        .map(card => {\r\n          let damadged = false\r\n          const parsedTags = tagsMap\r\n            .map(tag => {\r\n              const parsedText = sliceBetweenWords(card.desc, `<${tag.tag}>`, `</${tag.tag}>`)\r\n              \r\n              if (tag.required && parsedText === \"\")\r\n                damadged = true\r\n\r\n              return ({[tag.propName]: parsedText})\r\n            })\r\n            .reduce((a, b) => ({...a, ...b}))\r\n\r\n          return ({\r\n            ...parsedTags,\r\n            pos: [parsedTags.posX, parsedTags.posY],\r\n            heading: card.name,\r\n            damadged: damadged\r\n          })\r\n        })\r\n        .filter(point => !point.damadged)\r\n\r\n      res(mappedPoints)\r\n    })\r\n  }\r\n\r\n  get = () => this.data\r\n}","import React from 'react'\r\n\r\nconst StoreContext = React.createContext(\"new store()\")\r\nexport default StoreContext","import React, { Component } from 'react'\r\n\r\nimport IconPolyPlastic from '../img/new/0.png'\r\nimport IconPolyPaper from '../img/new/1.png'\r\nimport IconPolyGlass from '../img/new/2.png'\r\nimport IconPolyRare from '../img/new/3.png'\r\nimport IconPolyBattery from '../img/new/4.png'\r\nimport IconPolyPlasticPaper from '../img/new/5.png'\r\nimport IconPolyPlasticGlass from '../img/new/6.png'\r\nimport IconPolyPaperGlass from '../img/new/7.png'\r\nimport IconPolyPlasticPaperGlass from '../img/new/8.png'\r\nimport IconPolyCaps from '../img/new/9.png'\r\nimport IconPolyVolunteer from '../img/new/10.png'\r\nimport IconPlastic from '../img/new/90.png'\r\nimport IconPaper from '../img/new/91.png'\r\nimport IconGlass from '../img/new/92.png'\r\nimport IconRare from '../img/new/93.png'\r\nimport IconBattery from '../img/new/94.png'\r\nimport IconPlasticPaper from '../img/new/95.png'\r\nimport IconPlasticGlass from '../img/new/96.png'\r\nimport IconPaperGlass from '../img/new/97.png'\r\nimport IconPlasticPaperGlass from '../img/new/98.png'\r\nimport IconCaps from '../img/new/99.png'\r\nimport IconPolyCafe from '../img/new/100.png'\r\nimport IconPolyWater from '../img/new/101.png'\r\nimport IconPolyBike from '../img/new/102.png'\r\n\r\n\r\nconst sizeConverter = (size, W = 228, H = 370) =>\r\n  ({\r\n    iconImageSize: [Math.round(W / 10 * size), Math.round(H / 10 * size)],\r\n    iconImageOffset: [-Math.round(W / 20 * size), -Math.round(H * .95 / 10 * size)]\r\n  })\r\n\r\n  const getIcon = icon => {\r\n    switch (parseInt(icon)) {\r\n      case 0:\r\n        return IconPolyPlastic\r\n      case 1:\r\n        return IconPolyPaper\r\n      case 2:\r\n        return IconPolyGlass\r\n      case 3:\r\n        return IconPolyRare \r\n      case 4:\r\n        return IconPolyBattery\r\n      case 5:\r\n        return IconPolyPlasticPaper\r\n      case 6:\r\n        return IconPolyPlasticGlass\r\n      case 7:\r\n        return IconPolyPaperGlass\r\n      case 8:\r\n        return IconPolyPlasticPaperGlass\r\n      case 9:\r\n        return IconPolyCaps\r\n      case 10:\r\n        return IconPolyVolunteer\r\n      case 90:\r\n        return IconPlastic\r\n      case 91:\r\n        return IconPaper\r\n      case 92:\r\n        return IconGlass\r\n      case 93:\r\n        return IconRare \r\n      case 94:\r\n        return IconBattery\r\n      case 95:\r\n        return IconPlasticPaper\r\n      case 96:\r\n        return IconPlasticGlass\r\n      case 97:\r\n        return IconPaperGlass\r\n      case 98:\r\n        return IconPlasticPaperGlass\r\n      case 99:\r\n        return IconCaps\r\n      case 100:\r\n        return IconPolyCafe\r\n      case 101:\r\n        return IconPolyWater\r\n      case 102:\r\n        return IconPolyBike\r\n      default:\r\n        return IconPolyBike\r\n    }\r\n}\r\n\r\n\r\nexport default class extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      ready: false,\r\n      replacePoints: this.replacePoints,\r\n    }\r\n\r\n    this.mapRef = new React.createRef()\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (!state.ready)\r\n      return state\r\n\r\n    state.replacePoints(props)\r\n    return state\r\n  }\r\n\r\n  addPoint = async point => new Promise(async (res, rej) => {\r\n    let pos\r\n    let bubbleImage\r\n\r\n    if (point.pos)\r\n      pos = point.pos\r\n    else {\r\n      if (!point.address)\r\n        rej(\"no pos, no address\")\r\n\r\n      const result = await window.ymaps.geocode(\"Россия, Санкт-Петербург, \" + point.address)\r\n      pos = result.geoObjects.get(0).geometry._coordinates\r\n    }\r\n    bubbleImage = point.img.replace(/^\\[.*\\]\\(/gim, '');\r\n    bubbleImage = bubbleImage.replace(/album.*/gim, 'album');\r\n    bubbleImage = bubbleImage.replace(/\\[/gim, '');\r\n\r\n    const added = this.map.geoObjects\r\n      .add(new window.ymaps.Placemark(\r\n        pos,\r\n        {\r\n          balloonContent: `\r\n            <div class=\"yandex-baloon\">\r\n              <h2 style=\"margin-bottom: 10px\">${point.heading}</h2>\r\n              <small><i>${point.addressNice || point.address}</i></small><br>\r\n              <h3 style=\"margin-bottom: 10px\">Время работы: ${point.time}</h3><br>\r\n              ${point.img !== \"\" ? `<img style='width: 100%' src=${bubbleImage}></img>` : \"\"}<br>\r\n              ${point.comment}\r\n              \r\n            </div>\r\n            `,\r\n          iconCaption: point.heading,\r\n        },{\r\n          iconLayout: 'default#image',\r\n          iconImageHref: getIcon(point.icon),\r\n          ...sizeConverter(1.7)\r\n        }\r\n      ))\r\n\r\n    res(pos) //REDO\r\n  })\r\n\r\n  replacePoints = async props => {\r\n    if (!(props.points?.length > 0))\r\n      return\r\n\r\n    this.map.geoObjects.removeAll()\r\n\r\n    for (let pointIndex in props.points) {\r\n      const point = props.points[pointIndex]\r\n      const res = await this.addPoint(point)\r\n    }\r\n  }\r\n\r\n\r\n  componentDidMount = () => \r\n    // setTimeout(() =>\r\n      window.ymaps.ready(() => {\r\n        this.map = new window.ymaps.Map(\"map\", {\r\n          center: [59.999707, 30.366714],\r\n          zoom: 13,\r\n          controls: ['searchControl', 'typeSelector', 'zoomControl', 'geolocationControl', 'fullscreenControl']\r\n        })\r\n        this.setState({ready: true})\r\n      })\r\n    // , 500)\r\n\r\n  render = () =>\r\n    <div\r\n      id=\"map\"\r\n      ref={this.mapRef}\r\n    />\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport { StoreContext } from '../utils/store'\r\nimport YandexMap from './YandexMap'\r\n\r\n\r\nclass RecyclePoints extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      points: []\r\n    }\r\n  }\r\n\r\n  componentDidMount = () => this.initData()\r\n\r\n  initData = async () => this.setState({points: await this.context.store.get()})\r\n\r\n  render = () => (\r\n    <div className=\"random-events\" id=\"random-events\">\r\n      <div className=\"random-events__map-container\">\r\n        <YandexMap\r\n          points={this.state.points}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nRecyclePoints.contextType = StoreContext\r\n\r\nexport default RecyclePoints\r\n","import React from 'react'\r\n\r\nexport default (props) => (\r\n  <a\r\n    className={props.className}\r\n    href={props.to}\r\n    target={props.newTab ? \"_blank\" : \"\"}\r\n    rel=\"noopener noreferrer\"\r\n  >\r\n    {props.children}\r\n  </a>\r\n)","const preventDefault = event => event.preventDefault()\r\n\r\nconst registerListeners = element => {\r\n  element.addEventListener( 'wheel', preventDefault, { passive: false } )\r\n  // element.addEventListener( 'touchstart', preventDefault, { passive: false } )\r\n  // element.addEventListener( 'touchend', preventDefault, { passive: false } )\r\n  element.addEventListener( 'touchmove', preventDefault, { passive: false } )\r\n}\r\n\r\nconst unregisterListeners = element => {\r\n  element.removeEventListener( 'wheel', preventDefault, { passive: false } )\r\n  // element.removeEventListener( 'touchstart', preventDefault, { passive: false } )\r\n  // element.removeEventListener( 'touchend', preventDefault, { passive: false } )\r\n  element.removeEventListener( 'touchmove', preventDefault, { passive: false } )\r\n}\r\n\r\nexport { registerListeners, unregisterListeners }","import React, { Component } from 'react'\r\n\r\nimport { StoreContext } from '../utils/store'\r\nimport ExternalLink from './ExternalLink'\r\nimport { registerListeners, unregisterListeners } from '../utils/preventMobileScrolling'\r\n\r\n\r\nconst infoBlocks = [\r\n  {\r\n    h2: \"Экологичным быть: в Политехе запущен раздельный сбор отходов!\",\r\n    desc: <>\r\n      Активисты экологического объединения <ExternalLink to=\"https://vk.com/regreen_polytech\">ReGreen</ExternalLink> совместно с руководством СПбПУ разработали и внедрили систему раздельного сбора отходов на территории университета.\r\n     <p> Контейнеры уже установлены и функционируют! </p>\r\n    </>,\r\n    bottom: <>\r\n      Сайт разработан инициативной группой студентов в рамках дисциплины \"Основы проектной деятельности\".\r\n    </>\r\n  }\r\n    // bottom: <>\r\n    //   Исходный код на <ExternalLink to=\"https://github.com/the-sociophobic/recycle-polytech\">github.com</ExternalLink>\r\n    // </>\r\n]\r\n\r\n\r\nclass ProjectDescription extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      showMobile: false\r\n    }\r\n\r\n    this.aboutButtonRef = React.createRef()\r\n  }\r\n\r\n  componentDidMount = () =>\r\n    registerListeners(this.aboutButtonRef.current)\r\n  componentWillUnmount = () =>\r\n    unregisterListeners(this.aboutButtonRef.current)\r\n\r\n  render = () => (\r\n    <div className=\"project-description\">\r\n      <div\r\n        ref={this.aboutButtonRef}\r\n        className=\"project-description__mobile-open\"\r\n        onClick={() => this.setState({showMobile: true})}\r\n      >\r\n        О Проекте\r\n      </div>\r\n      <div className={\"project-description__container \" + (this.state.showMobile && \"project-description__container--open\")}>\r\n        <div\r\n          className=\"project-description__mobile-close\"\r\n          onClick={() => this.setState({showMobile: false})}\r\n        />\r\n        <div className=\"project-description__h1\">\r\n          Карта раздельного сбора\r\n        </div>\r\n        <div className=\"project-description__blocks\">\r\n          {infoBlocks.map(item =>\r\n            <div className=\"project-description__blocks__item\">\r\n              <div className=\"project-description__blocks__item__h2\">\r\n                {item.h2}\r\n              </div>\r\n              <div className=\"project-description__blocks__item__desc\">\r\n                {item.desc}\r\n              </div>\r\n              {item.bottom &&\r\n                <div className=\"project-description__blocks__item__bottom\">\r\n                  {item.bottom}\r\n                </div>}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nProjectDescription.contextType = StoreContext\r\n\r\nexport default ProjectDescription\r\n","import React, { Component } from 'react'\r\n\r\nimport { initialState, StoreContext } from './utils/store'\r\nimport RecyclePoints from './components/RecyclePoints'\r\nimport ProjectDescription from './components/ProjectDescription'\r\n\r\nimport './styles/index.sass'\r\n\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = initialState({\r\n      state: this.state,\r\n      setState: this.setState,\r\n    })\r\n  }\r\n\r\n  render = () => (\r\n    <StoreContext.Provider value={this.state}>\r\n      <div className=\"App\">\r\n        <ProjectDescription />\r\n        <RecyclePoints />\r\n      </div>\r\n    </StoreContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import storeClass from './storeClass'\r\nimport StoreContext from './StoreContext'\r\n\r\n\r\nconst initialState = stateRefs => ({\r\n  store: new storeClass({\r\n    stateRefs: stateRefs,\r\n    DBlink: \"https://trello.com/b/nKrfhtNh.json\",\r\n  }),\r\n})\r\n\r\nexport {\r\n  storeClass,\r\n  StoreContext,\r\n  initialState,\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}