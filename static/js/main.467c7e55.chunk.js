(this["webpackJsonprecycle-polytech"]=this["webpackJsonprecycle-polytech"]||[]).push([[0],{22:function(e,t,n){e.exports=n.p+"static/media/4.018f96ad.png"},23:function(e,t,n){e.exports=n.p+"static/media/7.ae417827.png"},24:function(e,t,n){e.exports=n.p+"static/media/8.0e11527f.png"},25:function(e,t,n){e.exports=n.p+"static/media/9.ced71636.png"},26:function(e,t,n){e.exports=n.p+"static/media/10.4bdd5103.png"},27:function(e,t,n){e.exports=n.p+"static/media/22.0e11527f.png"},28:function(e,t,n){e.exports=n.p+"static/media/23.94918faf.png"},29:function(e,t,n){e.exports=n(53)},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),c=n.n(o),i=n(3),s=n(5),u=n(4),p=n(1),l=n.n(p),m=n(7),d=n(8),f=n(6),v=n(20),b=n.n(v),h=function(e,t,n){var a=0,r=-1,o=e.toLowerCase().indexOf(t.toLowerCase());if(-1!==o&&(a=o+t.length),n){var c=e.toLowerCase().indexOf(n.toLowerCase());-1!==c&&(r=c)}return 0===a?"":-1===r?e.slice(a):e.slice(a,r)},g=[{tag:"\u0448\u0438\u0440\u043e\u0442\u0430",propName:"posX",required:!0},{tag:"\u0434\u043e\u043b\u0433\u043e\u0442\u0430",propName:"posY",required:!0},{tag:"\u0430\u0434\u0440\u0435\u0441",propName:"address"},{tag:"\u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b",propName:"time"},{tag:"\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",propName:"comment"},{tag:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",propName:"img"},{tag:"icon",propName:"icon"}],w=function e(t){var n=this;Object(i.a)(this,e),this.get=function(){return n.data},this.props=t,this.data=new Promise(function(){var e=Object(f.a)(l.a.mark((function e(n,a){var r,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(t.DBlink);case 2:r=e.sent.data,(o=r.lists.filter((function(e){return"Database"===e.name}))).length<1&&a("no Database board"),c=r.cards.filter((function(e){return e.idList===o[0].id})).map((function(e){var t=!1,n=g.map((function(n){var a=h(e.desc,"<".concat(n.tag,">"),"</".concat(n.tag,">"));return n.required&&""===a&&(t=!0),Object(d.a)({},n.propName,a)})).reduce((function(e,t){return Object(m.a)(Object(m.a)({},e),t)}));return Object(m.a)(Object(m.a)({},n),{},{pos:[n.posX,n.posY],heading:e.name,damadged:t})})).filter((function(e){return!e.damadged})),n(c);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},j=r.a.createContext("new store()"),_=n(21),x=n(22),O=n.n(x),y=n(9),E=n.n(y),k=n(23),N=n.n(k),C=n(24),M=n.n(C),D=n(25),P=n.n(D),L=n(26),R=n.n(L),S=n(27),B=n.n(S),I=n(28),q=n.n(I),z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:228,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:370;return{iconImageSize:[Math.round(t/10*e),Math.round(n/10*e)],iconImageOffset:[-Math.round(t/20*e),-Math.round(.95*n/10*e)]}},F=function(e){switch(parseInt(e)){case 0:return E.a;case 1:return O.a;case 2:return N.a;case 3:return M.a;case 4:return P.a;case 5:return R.a;case 6:return B.a;case 7:return q.a;default:return E.a}},T=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).addPoint=function(){var e=Object(f.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(l.a.mark((function e(n,r){var o,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.pos){e.next=4;break}o=t.pos,e.next=9;break;case 4:return t.address||r("no pos, no address"),e.next=7,window.ymaps.geocode("\u0420\u043e\u0441\u0441\u0438\u044f, \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433, "+t.address);case 7:i=e.sent,o=i.geoObjects.get(0).geometry._coordinates;case 9:c=(c=(c=t.img.replace(/^\[.*\]\(/gim,"")).replace(/album.*/gim,"album")).replace(/\[/gim,""),a.map.geoObjects.add(new window.ymaps.Placemark(o,{balloonContent:'\n            <div class="yandex-baloon">\n              <h2 style="margin-bottom: 10px">'.concat(t.heading,"</h2>\n              <small><i>").concat(t.addressNice||t.address,'</i></small><br>\n              <h3 style="margin-bottom: 10px">\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b: ').concat(t.time,"</h3><br>\n              ").concat(""!==t.img?"<img style='width: 100%' src=".concat(c,"></img>"):"","<br>\n              ").concat(t.comment,"\n              \n            </div>\n            "),iconCaption:t.heading},Object(m.a)({iconLayout:"default#image",iconImageHref:F(t.icon)},z(1.7)))),n(o);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.replacePoints=function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(n=t.points)||void 0===n?void 0:n.length)>0){e.next=2;break}return e.abrupt("return");case 2:a.map.geoObjects.removeAll(),e.t0=l.a.keys(t.points);case 4:if((e.t1=e.t0()).done){e.next=12;break}return r=e.t1.value,o=t.points[r],e.next=9,a.addPoint(o);case 9:e.sent,e.next=4;break;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=function(){return window.ymaps.ready((function(){a.map=new window.ymaps.Map("map",{center:[59.999707,30.366714],zoom:13,controls:["searchControl","typeSelector","zoomControl","geolocationControl","fullscreenControl"]}),a.setState({ready:!0})}))},a.render=function(){return r.a.createElement("div",{id:"map",ref:a.mapRef})},a.state={ready:!1,replacePoints:a.replacePoints},a.mapRef=new r.a.createRef,a}return Object(_.a)(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){return t.ready?(t.replacePoints(e),t):t}}]),n}(a.Component),W=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){return a.initData()},a.initData=Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,a.context.store.get();case 3:return e.t1=e.sent,e.t2={points:e.t1},e.abrupt("return",e.t0.setState.call(e.t0,e.t2));case 6:case"end":return e.stop()}}),e)}))),a.render=function(){return r.a.createElement("div",{className:"random-events",id:"random-events"},r.a.createElement("div",{className:"random-events__map-container"},r.a.createElement(T,{points:a.state.points})))},a.state={points:[]},a}return n}(a.Component);W.contextType=j;var A=W,J=function(e){return r.a.createElement("a",{className:e.className,href:e.to,target:e.newTab?"_blank":"",rel:"noopener noreferrer"},e.children)},X=function(e){return e.preventDefault()},Y=[{h2:"\u042d\u043a\u043e\u043b\u043e\u0433\u0438\u0447\u043d\u044b\u043c \u0431\u044b\u0442\u044c: \u0432 \u041f\u043e\u043b\u0438\u0442\u0435\u0445\u0435 \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u0440\u0430\u0437\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u0431\u043e\u0440 \u043e\u0442\u0445\u043e\u0434\u043e\u0432!",desc:r.a.createElement(r.a.Fragment,null,"\u0410\u043a\u0442\u0438\u0432\u0438\u0441\u0442\u044b \u044d\u043a\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f ",r.a.createElement(J,{to:"https://vk.com/regreen_polytech"},"ReGreen")," \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e \u0441 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e\u043c \u0421\u041f\u0431\u041f\u0423 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438 \u0438 \u0432\u043d\u0435\u0434\u0440\u0438\u043b\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0440\u0430\u0437\u0434\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430 \u043e\u0442\u0445\u043e\u0434\u043e\u0432 \u043d\u0430 \u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0438 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u0430.",r.a.createElement("p",null," \u041a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u044b \u0443\u0436\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0438\u0440\u0443\u044e\u0442! ")),bottom:r.a.createElement(r.a.Fragment,null,'\u0421\u0430\u0439\u0442 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d \u0438\u043d\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u043e\u0439 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432 \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u044b "\u041e\u0441\u043d\u043e\u0432\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438".')}],G=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){return(e=a.aboutButtonRef.current).addEventListener("wheel",X,{passive:!1}),void e.addEventListener("touchmove",X,{passive:!1});var e},a.componentWillUnmount=function(){return(e=a.aboutButtonRef.current).removeEventListener("wheel",X,{passive:!1}),void e.removeEventListener("touchmove",X,{passive:!1});var e},a.render=function(){return r.a.createElement("div",{className:"project-description"},r.a.createElement("div",{ref:a.aboutButtonRef,className:"project-description__mobile-open",onClick:function(){return a.setState({showMobile:!0})}},"\u041e \u041f\u0440\u043e\u0435\u043a\u0442\u0435"),r.a.createElement("div",{className:"project-description__container "+(a.state.showMobile&&"project-description__container--open")},r.a.createElement("div",{className:"project-description__mobile-close",onClick:function(){return a.setState({showMobile:!1})}}),r.a.createElement("div",{className:"project-description__h1"},"\u041a\u0430\u0440\u0442\u0430 \u0440\u0430\u0437\u0434\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430"),r.a.createElement("div",{className:"project-description__blocks"},Y.map((function(e){return r.a.createElement("div",{className:"project-description__blocks__item"},r.a.createElement("div",{className:"project-description__blocks__item__h2"},e.h2),r.a.createElement("div",{className:"project-description__blocks__item__desc"},e.desc),e.bottom&&r.a.createElement("div",{className:"project-description__blocks__item__bottom"},e.bottom))})))))},a.state={showMobile:!1},a.aboutButtonRef=r.a.createRef(),a}return n}(a.Component);G.contextType=j;var H=G,K=(n(52),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a,o;return Object(i.a)(this,n),(a=t.call(this,e)).render=function(){return r.a.createElement(j.Provider,{value:a.state},r.a.createElement("div",{className:"App"},r.a.createElement(H,null),r.a.createElement(A,null)))},a.state=(o={state:a.state,setState:a.setState},{store:new w({stateRefs:o,DBlink:"https://trello.com/b/nKrfhtNh.json"})}),a}return n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){e.exports=n.p+"static/media/2.3e33a564.png"}},[[29,1,2]]]);
//# sourceMappingURL=main.467c7e55.chunk.js.map